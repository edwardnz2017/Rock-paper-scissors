<!DOCTYPE html>
<html>
    <head>
        <title>Rock Paper Scissors
        </title>
    </head>
    <body>
        <script>

            let userPlay;

            do {
                userPlay = prompt("rock, paper, or scissors?");
            }
            while (userPlay !== "rock" && userPlay !== "paper" && userPlay !== "scissors"); //prompt user for rock, scissors, or paper.

            let computerSelection = computerPlay();

            function play() {  //Use this function in the console to run the game 5 times to find a majority winner.
                let playerScore = 0;
                let computerScore = 0;

                for (var i = 0; i < 5; i++) {
                    let tempCompSelect = computerPlay();
                    let round = playRound(userPlay, tempCompSelect);
                    console.log(round);
                    
                    if (round === "win") {
                        playerScore++;
                    } else if (round === "lose") {
                        computerScore++;
                    } else {
                        playerScore++;
                        computerScore++;
                    }
                }

                if (playerScore > computerScore) {
                    console.log("You win with " + playerScore + " points!");
                } else if (computerScore > playerScore) {
                    console.log("Computer wins with " + computerScore + " points!");
                } else {
                    console.log ("Draw!");
                }
            }

            function computerPlay() { //computer generates a random answer.
                let random = ["rock", "paper", "scissors"];
                return random[Math.floor(Math.random() * 3)];
                
            }

            function playRound(playerSelection, computerSelection) { //plays a round of the game.
                if (playerSelection === "rock") {
                    if (computerSelection === "rock") {
                        return "draw";
                    } else if (computerSelection === "paper") {
                        return "lose";
                    } else {
                        return "win";
                    }
                } else if (playerSelection === "paper") {
                    if (computerSelection === "rock") {
                        return "win";
                    } else if (computerSelection === "paper") {
                        return "draw";
                    } else {
                        return "lose";
                    }
                } else {
                    if (computerSelection === "rock") {
                        return "lose";
                    } else if (computerSelection === "paper") {
                        return "win";
                    } else {
                        return "draw";
                    }
                }
            }

            console.log(playRound(userPlay, computerSelection));
        </script>
    </body>
</html>